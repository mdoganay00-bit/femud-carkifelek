<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Femud Kazƒ± Kazan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #f3e5ff 0, #3b0c6f 45%, #1a052e 100%);
      color: #fff;
    }

    .game-wrapper {
      width: 100%;
      max-width: 460px;
      padding: 18px 16px 24px;
      background: rgba(25, 7, 55, 0.95);
      border-radius: 22px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(10px);
    }

    .title {
      text-align: center;
      margin-bottom: 10px;
    }

    .title h1 {
      font-size: 22px;
      font-weight: 800;
      letter-spacing: 0.04em;
    }

    .title span {
      display: block;
      font-size: 13px;
      opacity: 0.8;
      margin-top: 4px;
    }

    .info-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 10px 0 14px;
      font-size: 13px;
    }

    .info-bar strong {
      font-weight: 700;
    }

    .badge {
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(147, 51, 234, 0.2);
      border: 1px solid rgba(216, 180, 254, 0.6);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 6px;
      margin-bottom: 14px;
    }

    .cell {
      position: relative;
      aspect-ratio: 1/1;
      border-radius: 10px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.16);
      background: radial-gradient(circle at top, #6d28d9 0, #3b0764 65%);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: transform 0.12s ease, box-shadow 0.12s ease, border 0.12s ease;
    }

    .cell:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
      border-color: rgba(244, 224, 255, 0.9);
    }

    .cell.revealed {
      background: radial-gradient(circle at top, #1f2937 0, #020617 80%);
      border-color: rgba(250, 250, 250, 0.4);
      cursor: default;
      box-shadow: none;
      transform: none;
    }

    .cell img {
      width: 70%;
      max-width: 60px;
      opacity: 0.98;
      pointer-events: none;
      transition: opacity 0.18s ease, transform 0.18s ease;
    }

    .cell.revealed img {
      opacity: 0;
      transform: scale(0.4);
    }

    .prize-text {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 4px;
      text-align: center;
      font-size: 12px;
      font-weight: 700;
      opacity: 0;
      transform: scale(0.6);
      transition: opacity 0.2s ease, transform 0.2s ease;
    }

    .cell.revealed .prize-text {
      opacity: 1;
      transform: scale(1);
    }

    .prize-50 {
      color: #facc15;
      text-shadow: 0 0 12px rgba(250, 204, 21, 0.9);
    }

    .prize-40 {
      color: #4ade80;
      text-shadow: 0 0 10px rgba(74, 222, 128, 0.8);
    }

    .prize-30 {
      color: #38bdf8;
      text-shadow: 0 0 10px rgba(56, 189, 248, 0.8);
    }

    .prize-bos {
      color: #9ca3af;
      font-weight: 500;
      opacity: 0.9;
    }

    .status-panel {
      font-size: 12px;
      background: rgba(15, 23, 42, 0.85);
      border-radius: 12px;
      padding: 8px 10px;
      display: flex;
      justify-content: space-between;
      gap: 6px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      margin-bottom: 10px;
    }

    .status-panel div {
      line-height: 1.4;
    }

    .status-panel strong {
      font-size: 13px;
    }

    .legend {
      font-size: 11px;
      opacity: 0.8;
      text-align: center;
      line-height: 1.4;
      margin-bottom: 10px;
    }

    .legend span {
      display: block;
    }

    .btn-row {
      display: flex;
      justify-content: center;
      gap: 10px;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 9px 18px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      transition: background 0.15s ease, transform 0.1s ease, box-shadow 0.15s ease;
    }

    .btn-primary {
      background: linear-gradient(135deg, #a855f7, #ec4899);
      color: #fff;
      box-shadow: 0 8px 20px rgba(236, 72, 153, 0.45);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 25px rgba(236, 72, 153, 0.7);
    }

    .btn-secondary {
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      border: 1px solid rgba(148, 163, 184, 0.8);
    }

    .btn-secondary:hover {
      background: rgba(15, 23, 42, 1);
      transform: translateY(-1px);
    }

    .message {
      text-align: center;
      font-size: 12px;
      margin-top: 8px;
      min-height: 17px;
    }

    .message span {
      display: block;
    }

    .message-err {
      color: #f97373;
    }

    /* Modal */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.82);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 18px;
      z-index: 40;
    }

    .modal-backdrop.show {
      display: flex;
    }

    .modal {
      max-width: 380px;
      width: 100%;
      background: radial-gradient(circle at top, #fdf2ff 0, #111827 85%);
      border-radius: 22px;
      padding: 18px 18px 16px;
      color: #020617;
      text-align: center;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.6);
      position: relative;
      overflow: hidden;
    }

    .modal::before {
      content: "";
      position: absolute;
      inset: -40%;
      background-image:
        radial-gradient(circle at 10% 20%, rgba(244, 114, 182, 0.16), transparent 55%),
        radial-gradient(circle at 80% 0%, rgba(129, 140, 248, 0.22), transparent 55%);
      opacity: 0.85;
      z-index: -1;
    }

    .modal h2 {
      font-size: 22px;
      margin-bottom: 6px;
      color: #4c1d95;
    }

    .modal .prize-highlight {
      font-size: 16px;
      font-weight: 800;
      margin: 6px 0 8px;
      color: #7c2d12;
    }

    .modal p {
      font-size: 13px;
      line-height: 1.5;
      color: #111827;
    }

    .modal small {
      display: block;
      font-size: 11px;
      margin-top: 6px;
      color: #374151;
    }

    .modal-actions {
      margin-top: 12px;
      display: flex;
      justify-content: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .pill {
      font-size: 11px;
      padding: 3px 9px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.85);
      color: #e5e7eb;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      margin-top: 6px;
    }

    @media (max-width: 480px) {
      .game-wrapper {
        margin: 10px;
      }

      .title h1 {
        font-size: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="game-wrapper">
    <div class="title">
      <h1>Femud Kazƒ± Kazan</h1>
      <span>5 x 5 kare i√ßinde 6 se√ßim hakkƒ±n var. Aynƒ± tutardan 3 tane bul, kuponu kap! üéÅ</span>
    </div>

    <div class="info-bar">
      <div><strong>Kalan Hak:</strong> <span id="hakText">6</span> / 6</div>
      <div class="badge">Femud Premium Oyun</div>
    </div>

    <div class="status-panel">
      <div>
        <strong>Bulduklarƒ±n</strong><br />
        50 TL: <span id="c50">0</span> ‚Ä¢
        40 TL: <span id="c40">0</span> ‚Ä¢
        30 TL: <span id="c30">0</span>
      </div>
      <div style="text-align:right;">
        <strong>Hedef</strong><br />
        Aynƒ± tutardan <strong>3 adet</strong> yakala
      </div>
    </div>

    <div class="grid" id="grid"></div>

    <div class="legend">
      <span>üü° 50 TL ‚Ä¢ üü¢ 40 TL ‚Ä¢ üîµ 30 TL indirim kuponu.</span>
      <span>3 e≈üle≈üme yaparsan, kuponun 24 saat boyunca ge√ßerli olur.</span>
    </div>

    <div class="btn-row">
      <button class="btn btn-primary" id="btnRestart">Yeniden Karƒ±≈ütƒ±r</button>
      <a class="btn btn-secondary" href="index.html">√áarkƒ±felek'e D√∂n</a>
    </div>

    <div class="message" id="message"></div>
  </div>

  <!-- Sonu√ß Modali -->
  <div class="modal-backdrop" id="modalBackdrop">
    <div class="modal">
      <h2>Tebrikler! üéâ</h2>
      <div class="prize-highlight" id="modalPrizeText"></div>
      <p>
        24 saat i√ßinde <strong>@femud_tr</strong> Instagram hesabƒ±na,
        bu ekranƒ±n g√∂r√ºnt√ºs√ºn√º g√∂ndererek kazandƒ±ƒüƒ±n indirimi kullanabilirsin.
      </p>
      <small>* Kupon tek seferliktir ve se√ßtiƒüin Femud √ºr√ºn√º i√ßin ge√ßerlidir.</small>

      <div class="pill">
        ‚è± 24 Saat ƒ∞√ßinde Kullan ‚Äì Sonra Sƒ±fƒ±rlanƒ±r
      </div>

      <div class="modal-actions">
        <button class="btn btn-primary" id="btnPlayAgain">Tekrar Oyna</button>
        <button class="btn btn-secondary" id="btnCloseModal">Kapat</button>
      </div>
    </div>
  </div>

  <script>
    const gridEl = document.getElementById("grid");
    const hakText = document.getElementById("hakText");
    const msgEl = document.getElementById("message");
    const c50El = document.getElementById("c50");
    const c40El = document.getElementById("c40");
    const c30El = document.getElementById("c30");

    const modalBackdrop = document.getElementById("modalBackdrop");
    const modalPrizeText = document.getElementById("modalPrizeText");
    const btnPlayAgain = document.getElementById("btnPlayAgain");
    const btnCloseModal = document.getElementById("btnCloseModal");
    const btnRestart = document.getElementById("btnRestart");

    const MAX_HAK = 6;
    const TOTAL_CELLS = 25;

    let remainingHak = MAX_HAK;
    let clickedCount = 0;
    let gameOver = false;

    let count50 = 0;
    let count40 = 0;
    let count30 = 0;

    let prizes = [];

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function createPrizePool() {
      const pool = [
        ...Array(4).fill("50"),
        ...Array(5).fill("40"),
        ...Array(6).fill("30"),
      ];

      while (pool.length < TOTAL_CELLS) {
        pool.push("BOS");
      }

      return shuffle(pool);
    }

    function resetGame() {
      remainingHak = MAX_HAK;
      clickedCount = 0;
      gameOver = false;
      count50 = 0;
      count40 = 0;
      count30 = 0;
      prizes = createPrizePool();

      hakText.textContent = remainingHak;
      c50El.textContent = "0";
      c40El.textContent = "0";
      c30El.textContent = "0";
      msgEl.textContent = "";

      renderGrid();
    }

    function renderGrid() {
      gridEl.innerHTML = "";

      prizes.forEach((code, index) => {
        const cell = document.createElement("div");
        cell.className = "cell";
        cell.dataset.index = index;
        cell.dataset.prize = code;

        const img = document.createElement("img");
        img.src = "femud_logo.png";
        img.alt = "Femud Logo";

        const prizeDiv = document.createElement("div");
        prizeDiv.classList.add("prize-text");

        let text = "";
        let cls = "";

        if (code === "50") {
          text = "50 TL ƒ∞ndirim";
          cls = "prize-50";
        } else if (code === "40") {
          text = "40 TL ƒ∞ndirim";
          cls = "prize-40";
        } else if (code === "30") {
          text = "30 TL ƒ∞ndirim";
          cls = "prize-30";
        } else {
          text = "Bo≈ü";
          cls = "prize-bos";
        }

        prizeDiv.textContent = text;
        prizeDiv.classList.add(cls);

        cell.appendChild(img);
        cell.appendChild(prizeDiv);

        cell.addEventListener("click", () => handleCellClick(cell));

        gridEl.appendChild(cell);
      });
    }

    function handleCellClick(cell) {
      if (gameOver) return;

      if (cell.classList.contains("revealed")) return;

      if (remainingHak <= 0) {
        msgEl.innerHTML = '<span class="message-err">Se√ßim hakkƒ±n bitti. Yeniden oynamak i√ßin "Yeniden Karƒ±≈ütƒ±r"a bas.</span>';
        return;
      }

      remainingHak--;
      clickedCount++;
      hakText.textContent = remainingHak;

      cell.classList.add("revealed");

      const code = cell.dataset.prize;

      if (code === "50") {
        count50++;
        c50El.textContent = count50;
      } else if (code === "40") {
        count40++;
        c40El.textContent = count40;
      } else if (code === "30") {
        count30++;
        c30El.textContent = count30;
      }

      checkForWin();

      if (!gameOver && remainingHak === 0) {
        msgEl.innerHTML = '<span class="message-err">Se√ßim hakkƒ±n bitti. Kupon kazanamadƒ±n, tekrar deneyebilirsin.</span>';
      }
    }

    function checkForWin() {
      let prizeText = "";
      if (count50 >= 3) {
        prizeText = "B√úY√úK √ñD√úL: 50 TL Femud ƒ∞ndirim Kuponu üéÅ";
      } else if (count40 >= 3) {
        prizeText = "40 TL Femud ƒ∞ndirim Kuponu Kazandƒ±n üéÅ";
      } else if (count30 >= 3) {
        prizeText = "30 TL Femud ƒ∞ndirim Kuponu Kazandƒ±n üéÅ";
      }

      if (prizeText) {
        gameOver = true;
        showModal(prizeText);
      }
    }

    function showModal(text) {
      modalPrizeText.textContent = text;
      modalBackdrop.classList.add("show");
    }

    function closeModal() {
      modalBackdrop.classList.remove("show");
    }

    btnPlayAgain.addEventListener("click", () => {
      closeModal();
      resetGame();
    });

    btnCloseModal.addEventListener("click", () => {
      closeModal();
    });

    btnRestart.addEventListener("click", () => {
      resetGame();
    });

    resetGame();
  </script>
</body>
</html>