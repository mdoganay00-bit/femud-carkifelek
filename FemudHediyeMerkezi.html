<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Femud Hediye Merkezi</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(circle at top, #7b3fff, #1b0033 60%, #050010);
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .wrapper {
      width: 100%;
      max-width: 900px;
      background: rgba(12, 0, 32, 0.95);
      border-radius: 24px;
      box-shadow: 0 24px 60px rgba(0, 0, 0, 0.6);
      padding: 24px 20px 28px;
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    @media (min-width: 768px) {
      .wrapper {
        padding: 32px 36px 36px;
      }
    }

    .header {
      text-align: center;
      margin-bottom: 22px;
    }

    .title {
      font-size: 26px;
      font-weight: 800;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      margin-bottom: 6px;
    }

    .subtitle {
      font-size: 14px;
      color: #e2d9ff;
      opacity: 0.9;
    }

    .badge-row {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-top: 10px;
      flex-wrap: wrap;
    }

    .badge {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(126, 87, 255, 0.18);
      border: 1px solid rgba(177, 139, 255, 0.8);
      text-transform: uppercase;
      letter-spacing: 0.06em;
    }

    .games-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 14px;
      margin-top: 22px;
      margin-bottom: 20px;
    }

    @media (min-width: 640px) {
      .games-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    .game-card {
      position: relative;
      border-radius: 18px;
      padding: 16px 14px;
      background: radial-gradient(circle at top left, #a56dff, #3a0f9c);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.45);
      cursor: pointer;
      text-decoration: none;
      color: #fff;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.08);
      transition: transform 0.18s ease, box-shadow 0.18s ease,
        border-color 0.18s ease;
    }

    .game-card::before {
      content: "";
      position: absolute;
      inset: -60%;
      background: conic-gradient(
        from 210deg,
        rgba(255, 255, 255, 0.18),
        transparent 30%,
        transparent 70%,
        rgba(255, 255, 255, 0.14)
      );
      opacity: 0;
      transition: opacity 0.25s ease;
      pointer-events: none;
    }

    .game-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.65);
      border-color: rgba(255, 255, 255, 0.22);
    }

    .game-card:hover::before {
      opacity: 1;
    }

    .game-label {
      font-size: 11px;
      text-transform: uppercase;
      opacity: 0.9;
      letter-spacing: 0.12em;
    }

    .game-name {
      margin-top: 6px;
      font-size: 17px;
      font-weight: 700;
    }

    .game-desc {
      margin-top: 8px;
      font-size: 13px;
      opacity: 0.92;
    }

    .game-tag {
      margin-top: 11px;
      font-size: 11px;
      padding: 4px 9px;
      border-radius: 999px;
      background: rgba(12, 0, 32, 0.65);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .game-tag-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #ffd54f;
      box-shadow: 0 0 8px rgba(255, 213, 79, 0.9);
    }

    .section {
      margin-top: 12px;
      padding-top: 14px;
      border-top: 1px solid rgba(255, 255, 255, 0.06);
    }

    .section-title {
      font-size: 15px;
      font-weight: 700;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section-title span.icon {
      font-size: 18px;
    }

    .section-text {
      font-size: 13px;
      color: #f0e7ff;
      opacity: 0.92;
      line-height: 1.5;
    }

    .section-text strong {
      color: #ffd54f;
      font-weight: 600;
    }

    .invite-form {
      margin-top: 14px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .field-label {
      font-size: 12px;
      opacity: 0.9;
    }

    .field-label span {
      color: #ffd54f;
      font-weight: 600;
    }

    .input-row {
      display: flex;
      gap: 8px;
    }

    .input-row input[type="text"] {
      flex: 1;
      padding: 10px 11px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.16);
      background: rgba(10, 0, 28, 0.9);
      color: #fff;
      font-size: 14px;
      outline: none;
    }

    .input-row input::placeholder {
      color: rgba(230, 210, 255, 0.65);
    }

    .btn {
      border: none;
      outline: none;
      cursor: pointer;
      border-radius: 999px;
      padding: 10px 16px;
      font-size: 13px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      white-space: nowrap;
      transition: background 0.18s ease, transform 0.12s ease,
        box-shadow 0.18s ease;
    }

    .btn-primary {
      background: linear-gradient(135deg, #ff4fa8, #ff8a50);
      color: #fff;
      box-shadow: 0 8px 20px rgba(255, 87, 146, 0.65);
    }

    .btn-primary:active {
      transform: translateY(1px) scale(0.99);
      box-shadow: 0 4px 10px rgba(255, 87, 146, 0.45);
    }

    .btn-outline {
      background: transparent;
      color: #ffd54f;
      border: 1px solid rgba(255, 213, 79, 0.7);
    }

    .btn-outline:active {
      transform: translateY(1px) scale(0.99);
    }

    .invite-link-box {
      margin-top: 8px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .invite-link-row {
      display: flex;
      gap: 8px;
    }

    .invite-link-row input {
      flex: 1;
      padding: 9px 10px;
      border-radius: 10px;
      border: 1px solid rgba(255, 255, 255, 0.22);
      background: rgba(19, 0, 48, 0.9);
      color: #fff;
      font-size: 13px;
      outline: none;
    }

    .status {
      margin-top: 5px;
      font-size: 12px;
      color: #b3ffb3;
    }

    .footer {
      margin-top: 20px;
      font-size: 11px;
      text-align: center;
      color: rgba(230, 210, 255, 0.8);
      opacity: 0.85;
    }

    .footer strong {
      font-weight: 700;
    }

    .hint {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.7);
      margin-top: 4px;
    }

    a.simple-link {
      color: #ffcdd2;
      text-decoration: underline;
      text-decoration-style: dotted;
      text-underline-offset: 3px;
      font-size: 12px;
    }
  </style>
</head>

<body>
  <div class="wrapper">
    <header class="header">
      <div class="title">Femud Hediye Merkezi</div>
      <div class="subtitle">
        TÃ¼m oyunlar, indirim kuponlarÄ± ve davet sistemi tek ekranda.
      </div>
      <div class="badge-row">
        <div class="badge">KazÄ± kazan â€¢ Ã‡arkÄ±felek â€¢ Davet et & kazan</div>
      </div>
    </header>

    <!-- Oyun KutularÄ± -->
    <section class="games-grid">
      <!-- Ã‡arkÄ±felek -->
      <a class="game-card" href="./index.html">
        <div class="game-label">Oyun 1</div>
        <div class="game-name">Femud Ã‡arkÄ±felek</div>
        <div class="game-desc">
          Ä°sim ve Instagram adresini yaz, Ã§arkÄ± Ã§evir, anÄ±nda hediyeni Ã¶ÄŸren.
        </div>
        <div class="game-tag">
          <span class="game-tag-dot"></span>
          %30â€™a kadar indirim, Ã¼rÃ¼n Ã§ekleri.
        </div>
      </a>

      <!-- KazÄ± Kazan -->
      <a class="game-card" href="./Kazikazan.html">
        <div class="game-label">Oyun 2</div>
        <div class="game-name">Femud KazÄ± Kazan</div>
        <div class="game-desc">
          5Ã—5 kutudan 6 tanesini seÃ§, aynÄ± tutardan 3 tane bul, 24 saat geÃ§erli
          indirim kuponunu kap.
        </div>
        <div class="game-tag">
          <span class="game-tag-dot"></span>
          50 TL â€¢ 40 TL â€¢ 30 TL kupon ÅŸansÄ±.
        </div>
      </a>

      <!-- Davet sistemi -->
      <a class="game-card" href="#davet">
        <div class="game-label">Sistem</div>
        <div class="game-name">Davet Et & Oyun Kazan</div>
        <div class="game-desc">
          KiÅŸisel davet linkini oluÅŸtur, arkadaÅŸlarÄ±n oynadÄ±kÃ§a oyun hakkÄ± ve
          Femud cÃ¼zdan bakiyesi kazan.
        </div>
        <div class="game-tag">
          <span class="game-tag-dot"></span>
          YakÄ±nda otomatik takip â€“ Google Sheet entegre.
        </div>
      </a>
    </section>

    <!-- Davet Sistemi -->
    <section id="davet" class="section">
      <div class="section-title">
        <span class="icon">ğŸ</span>
        Davet Sistemi â€“ KiÅŸisel Femud Linkin
      </div>
      <p class="section-text">
        Buradan kendine Ã¶zel bir <strong>davet linki</strong> oluÅŸturacaksÄ±n.
        Bu linki arkadaÅŸlarÄ±nla paylaÅŸtÄ±ÄŸÄ±nda:
        <br />
        â€¢ ArkadaÅŸ link ile oyun sayfalarÄ±na girer.<br />
        â€¢ Biz arkada bu daveti Google Sheet Ã¼zerinden takip edeceÄŸiz.<br />
        â€¢ Her <strong>gerÃ§ek yeni kiÅŸi</strong> iÃ§in sana ekstra oyun hakkÄ± ve
        cÃ¼zdan bakiyesi tanÄ±mlanacak.
      </p>

      <div class="invite-form">
        <label class="field-label">
          Instagram kullanÄ±cÄ± adÄ±n
          <span>(zorunlu)</span>
        </label>
        <div class="input-row">
          <input
            id="igInput"
            type="text"
            placeholder="@femud_tr gibi yaz"
            autocomplete="off"
          />
          <button class="btn btn-primary" id="generateBtn">
            Davet Linkimi OluÅŸtur
          </button>
        </div>

        <div class="invite-link-box" id="inviteBox" style="display: none">
          <span class="field-label">KiÅŸisel davet linkin:</span>
          <div class="invite-link-row">
            <input id="inviteLink" type="text" readonly />
            <button class="btn btn-outline" id="copyBtn">Kopyala</button>
          </div>
          <div class="hint">
            Bu linki WhatsApp, Instagram DM veya Storyâ€™de paylaÅŸabilirsin.
            ArkadaÅŸlarÄ±n bu linkten oyuna girerse davet sistemi Ã§alÄ±ÅŸÄ±r.
          </div>
          <div class="status" id="statusText"></div>
        </div>
      </div>
    </section>

    <footer class="footer">
      <div>
        <strong>Femud</strong> â€“ doÄŸadan gelen gÃ¼Ã§. TÃ¼m oyunlar max.
        <strong>%30 indirim</strong> sÄ±nÄ±rÄ±na gÃ¶re ayarlanÄ±r.
      </div>
      <div style="margin-top: 4px">
        Ã‡arkÄ±felek sayfasÄ±na dÃ¶nmek istersen
        <a class="simple-link" href="./index.html">buraya tÄ±kla</a>.
      </div>
    </footer>
  </div>

  <script>
    // Basit yardÄ±mcÄ± fonksiyon: URL parametresi oku
    function getQueryParam(key) {
      const params = new URLSearchParams(window.location.search);
      return params.get(key);
    }

    // EÄŸer bu sayfa bir davet linkiyle aÃ§Ä±ldÄ±ysa kullanÄ±cÄ±ya gÃ¶ster
    (function checkIncomingInvite() {
      const refCode = getQueryParam("davet");
      if (!refCode) return;

      // Bu kodu localStorage'a kaydediyoruz. Ä°lerde oyun sayfalarÄ± buradan okuyacak.
      try {
        localStorage.setItem("femud_ref_code", refCode);
      } catch (e) {}

      const footer = document.querySelector(".footer");
      if (footer) {
        const info = document.createElement("div");
        info.style.marginTop = "6px";
        info.style.fontSize = "11px";
        info.style.color = "#b3ffb3";
        info.textContent =
          "Bu sayfaya bir davet linkiyle geldin. Oyun oynadÄ±kÃ§a davet eden kiÅŸiye hak tanÄ±mlanacak (arka planda Google Sheet ile takip edilecek).";
        footer.appendChild(info);
      }
    })();

    // KullanÄ±cÄ±ya Ã¶zel davet kodu Ã¼ret
    function generateInviteCode(ig) {
      const clean = ig.replace(/[^a-zA-Z0-9]/g, "").toUpperCase();
      const base = clean.slice(0, 3) || "FMD";
      const rand = Math.random().toString(36).substring(2, 6).toUpperCase();
      return base + rand;
    }

    const igInput = document.getElementById("igInput");
    const generateBtn = document.getElementById("generateBtn");
    const inviteBox = document.getElementById("inviteBox");
    const inviteLinkInput = document.getElementById("inviteLink");
    const copyBtn = document.getElementById("copyBtn");
    const statusText = document.getElementById("statusText");

    // Sayfa aÃ§Ä±ldÄ±ÄŸÄ±nda daha Ã¶nce oluÅŸturulmuÅŸ bir kod varsa geri yÃ¼kle
    (function loadExistingInvite() {
      try {
        const savedIg = localStorage.getItem("femud_invite_ig");
        const savedCode = localStorage.getItem("femud_invite_code");
        if (savedIg && savedCode) {
          igInput.value = savedIg;
          const link =
            window.location.origin + "/Kazikazan.html?davet=" + savedCode;
          inviteLinkInput.value = link;
          inviteBox.style.display = "block";
        }
      } catch (e) {}
    })();

    generateBtn.addEventListener("click", function (e) {
      e.preventDefault();
      const ig = igInput.value.trim();

      statusText.textContent = "";

      if (!ig) {
        alert("Ã–nce Instagram kullanÄ±cÄ± adÄ±nÄ± yazmalÄ±sÄ±n.");
        igInput.focus();
        return;
      }

      const code = generateInviteCode(ig);
      const link =
        window.location.origin + "/Kazikazan.html?davet=" + code;

      inviteLinkInput.value = link;
      inviteBox.style.display = "block";

      try {
        localStorage.setItem("femud_invite_ig", ig);
        localStorage.setItem("femud_invite_code", code);
      } catch (err) {}

      statusText.textContent =
        "Davet linkin hazÄ±r. Åu an sadece bu cihazda saklanÄ±yor. ArkadaÅŸlarÄ±n bu linkten giriÅŸ yaparsa arkada Google Sheet tarafÄ±na ekleyerek haklarÄ±nÄ± tanÄ±mlayacaÄŸÄ±z.";
    });

    copyBtn.addEventListener("click", function (e) {
      e.preventDefault();
      if (!inviteLinkInput.value) return;

      inviteLinkInput.select();
      inviteLinkInput.setSelectionRange(0, 99999);

      let ok = false;
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard
          .writeText(inviteLinkInput.value)
          .then(function () {
            ok = true;
            statusText.textContent = "Link panoya kopyalandÄ±. PaylaÅŸabilirsin.";
          })
          .catch(function () {
            document.execCommand("copy");
            statusText.textContent =
              "Link kopyalandÄ± gibi. YapÄ±ÅŸtÄ±ramazsan elle seÃ§ip kopyalayabilirsin.";
          });
      } else {
        document.execCommand("copy");
        statusText.textContent =
          "Link kopyalandÄ± gibi. YapÄ±ÅŸtÄ±ramazsan elle seÃ§ip kopyalayabilirsin.";
      }

      if (!ok) {
        statusText.textContent =
          "Link kopyalandÄ± gibi. YapÄ±ÅŸtÄ±ramazsan elle seÃ§ip kopyalayabilirsin.";
      }
    });
  </script>
</body>
</html>