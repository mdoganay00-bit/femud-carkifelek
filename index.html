<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FEMUD | Hediye Oyun Merkezi</title>

  <!-- Grafik kÃ¼tÃ¼phanesi -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

  <style>
    :root{
      --p1:#2a0a57;
      --p2:#6a3cff;
      --gold:#ffb300;
      --card:#ffffff;
      --txt:#141423;
      --muted:#5f6071;
      --r:18px;
      --shadow:0 18px 55px rgba(0,0,0,.32);
      --shadow2:0 10px 26px rgba(0,0,0,.18);
    }
    *{box-sizing:border-box}

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Arial, sans-serif;
      color:var(--txt);
      min-height:100vh;
      background:
        radial-gradient(900px 600px at 15% 10%, rgba(255,255,255,.14), transparent 60%),
        radial-gradient(1000px 700px at 85% 15%, rgba(255,179,0,.18), transparent 55%),
        linear-gradient(140deg, var(--p1), var(--p2));
      overflow-x:hidden;
    }

    /* Premium glow */
    .glow{
      position:fixed; inset:-45%;
      background: conic-gradient(from 210deg,
        rgba(255,255,255,.12),
        rgba(255,179,0,.20),
        rgba(255,255,255,.10),
        rgba(124,77,255,.18),
        rgba(255,255,255,.12)
      );
      filter: blur(22px);
      animation: spin 14s linear infinite;
      opacity:.52;
      z-index:-2;
      pointer-events:none;
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    .wrap{
      width:min(1120px, 92vw);
      margin:0 auto;
      padding:26px 0 34px;
    }

    /* HERO */
    .hero{
      border-radius: calc(var(--r) + 10px);
      padding: 22px 18px 18px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }
    .hero::before{
      content:"";
      position:absolute; inset:-30%;
      background:
        radial-gradient(circle at 24% 18%, rgba(255,179,0,.40), transparent 58%),
        radial-gradient(circle at 78% 22%, rgba(255,255,255,.22), transparent 62%);
      opacity:.85;
      z-index:-1;
    }

    .toprow{
      display:flex;
      gap:18px;
      align-items:center;
      justify-content:center;
      flex-wrap:wrap;
      text-align:center;
    }

    .logoCircle{
      width:150px; height:150px;
      border-radius:50%;
      background: rgba(255,255,255,.95);
      box-shadow: 0 14px 34px rgba(0,0,0,.35);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      border: 2px solid rgba(255,255,255,.70);
      flex: 0 0 auto;
    }
    .logoCircle img{
      width:88%;
      height:88%;
      object-fit:contain;
      display:block;
    }

    .brandText{
      display:flex;
      flex-direction:column;
      gap:6px;
      align-items:center;
      max-width: 760px;
    }

    .brandText h1{
      margin:0;
      font-size: clamp(26px, 3.6vw, 40px);
      font-weight: 950;
      letter-spacing:.2px;
      color:#fff;
      text-shadow: 0 10px 30px rgba(0,0,0,.35);
    }

    .brandText .sub{
      color: rgba(255,255,255,.92);
      font-weight: 800;
      font-size: 15px;
      letter-spacing:.2px;
    }

    .headline{
      margin: 14px auto 0;
      width:min(900px, 95%);
      color:#fff;
      font-weight:800;
      font-size: clamp(15px, 2.1vw, 18px);
      line-height:1.5;
      text-shadow: 0 10px 28px rgba(0,0,0,.25);
    }

    .pillRow{
      margin-top:14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:center;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border-radius:999px;
      background: rgba(255,255,255,.14);
      border: 1px solid rgba(255,255,255,.20);
      color:#fff;
      font-weight:800;
      font-size: 13px;
      box-shadow: 0 10px 22px rgba(0,0,0,.18);
    }

    /* GAME CARDS */
    .grid{
      margin-top:18px;
      display:grid;
      grid-template-columns: 1fr;
      gap:14px;
    }
    @media(min-width:860px){
      .grid{grid-template-columns: 1fr 1fr;}
    }

    .card{
      background: rgba(255,255,255,.96);
      border-radius: calc(var(--r) + 8px);
      box-shadow: var(--shadow2);
      overflow:hidden;
      border: 1px solid rgba(0,0,0,.06);
      position:relative;
    }

    .cardHeader{
      padding:16px 16px 10px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius: 999px;
      font-weight:950;
      font-size: 12px;
      color:#2b1b4a;
      background: linear-gradient(135deg, rgba(255,179,0,.38), rgba(124,77,255,.18));
      border: 1px solid rgba(0,0,0,.06);
      white-space:nowrap;
    }

    .cardTitle{
      margin:6px 0 0;
      font-size: 20px;
      font-weight: 980;
      letter-spacing:.2px;
      color:#2a0a57;
    }

    .cardBody{
      padding:0 16px 14px;
      color: var(--muted);
      font-size: 14px;
      line-height:1.55;
    }

    .how{
      margin-top:10px;
      display:grid;
      grid-template-columns: 1fr;
      gap:8px;
    }
    .step{
      border-radius: 14px;
      padding:10px 12px;
      background:#f6f3ff;
      border:1px solid rgba(0,0,0,.05);
      color:#2a0a57;
      font-weight:800;
      font-size: 13px;
    }

    .ctaRow{
      padding: 0 16px 16px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }

    .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius: 16px;
      padding: 13px 14px;
      font-weight: 980;
      font-size: 14px;
      color:#fff;
      flex: 1 1 240px;
      text-align:center;
      text-decoration:none;
      position:relative;
      overflow:hidden;
      box-shadow: 0 12px 24px rgba(0,0,0,.22);
      transform: translateZ(0);
    }

    .btn.primary{
      background: linear-gradient(135deg, #ff9800, #ffb300, #ff6d00);
    }
    .btn.secondary{
      background: linear-gradient(135deg, #7c4dff, #512da8, #2a0a57);
    }

    .btn::after{
      content:"";
      position:absolute;
      inset:-60% -20%;
      background: radial-gradient(circle at 20% 30%, rgba(255,255,255,.55), transparent 55%);
      opacity:.35;
      transform: rotate(20deg);
      transition: opacity .25s ease;
    }
    .btn:hover::after{opacity:.55}
    .btn:hover{transform: translateY(-1px)}
    .btn:active{transform: translateY(1px)}

    .fine{
      flex: 1 1 260px;
      font-size: 12px;
      color: #6b6b78;
      line-height: 1.4;
    }

    /* TRUST */
    .trust{
      margin-top:14px;
      padding:14px 16px;
      background: rgba(255,255,255,.92);
      border-radius: calc(var(--r) + 6px);
      box-shadow: var(--shadow2);
      border:1px solid rgba(0,0,0,.06);
      text-align:left;
    }
    .trust h3{
      margin:0 0 6px;
      font-size: 15px;
      font-weight: 980;
      color:#2a0a57;
    }
    .trust ul{
      margin:0;
      padding-left:18px;
      color:#4f5062;
      font-weight:750;
      font-size: 13px;
      line-height: 1.55;
    }
    .trust li{margin:4px 0}

    /* PRODUCTS */
    .section{
      margin-top: 16px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.16);
      border-radius: calc(var(--r) + 10px);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      overflow:hidden;
    }
    .sectionHead{
      padding: 14px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
      gap:10px;
    }
    .sectionHead h2{
      margin:0;
      color:#fff;
      font-size: 18px;
      font-weight: 980;
      letter-spacing:.2px;
    }
    .sectionHead .mini{
      color: rgba(255,255,255,.88);
      font-weight:800;
      font-size: 13px;
    }

    .productGrid{
      padding: 0 14px 16px;
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
    }
    @media(min-width:860px){
      .productGrid{grid-template-columns: 1fr 1fr;}
    }
    .pCard{
      background: rgba(255,255,255,.96);
      border-radius: calc(var(--r) + 6px);
      box-shadow: var(--shadow2);
      padding: 14px;
      border: 1px solid rgba(0,0,0,.06);
    }
    .pTitle{
      margin:0 0 6px;
      font-size: 16px;
      font-weight: 980;
      color:#2a0a57;
    }
    .pMeta{
      font-size: 12px;
      font-weight:900;
      color:#6a1b9a;
      margin-bottom: 8px;
    }
    .pList{
      margin:0;
      padding-left: 18px;
      color:#515163;
      font-weight:750;
      font-size: 13px;
      line-height: 1.55;
    }
    .pList li{margin: 4px 0}

    /* Spark */
    .spark{
      position:fixed;
      pointer-events:none;
      width:10px;height:10px;
      border-radius:50%;
      background: rgba(255,255,255,.95);
      box-shadow: 0 0 18px rgba(255,179,0,.9);
      animation: pop 700ms ease-out forwards;
      z-index: 99;
    }
    @keyframes pop{
      0%{transform:translate(-50%,-50%) scale(.6); opacity:0}
      30%{opacity:1}
      100%{transform:translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(0); opacity:0}
    }

    footer{
      margin-top: 16px;
      color: rgba(255,255,255,.86);
      font-size: 12px;
      text-align:center;
      padding: 10px 0 6px;
    }
    footer b{color:#fff}

    /* ===== ABOUT PREMIUM CARDS ===== */
    .aboutCards{
      margin-top:12px;
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
    }
    @media(min-width:860px){
      .aboutCards{ grid-template-columns: 1fr 1fr 1fr; }
    }
    .aCard{
      background:#ffffff;
      border:1px solid rgba(0,0,0,.06);
      box-shadow: 0 14px 28px rgba(0,0,0,.12);
      border-radius:18px;
      padding:14px 14px 12px;
      position:relative;
      overflow:hidden;
    }
    .aCard::before{
      content:"";
      position:absolute;
      inset:-40%;
      background: radial-gradient(circle at 20% 20%, rgba(255,179,0,.22), transparent 55%),
                radial-gradient(circle at 80% 30%, rgba(124,77,255,.16), transparent 60%);
      filter: blur(10px);
      opacity:.9;
    }
    .aCard h3{
      position:relative;
      margin:0 0 8px;
      font-size:14px;
      font-weight: 980;
      color:#2a0a57;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .aCard p{
      position:relative;
      margin:0;
      font-size:12.8px;
      line-height:1.65;
      color:#515163;
      font-weight:760;
    }
    .aMiniRow{
      position:relative;
      margin-top:10px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .aMini{
      display:inline-flex;
      align-items:center;
      gap:7px;
      padding:7px 9px;
      border-radius:999px;
      background: rgba(124,77,255,.10);
      border:1px solid rgba(124,77,255,.14);
      color:#2a0a57;
      font-weight:900;
      font-size:11.5px;
    }
    .aMini .dot{
      width:8px;height:8px;border-radius:50%;
      background: linear-gradient(135deg,#ffb300,#7c4dff);
    }

    /* ===== PÄ°YASA PANELÄ° (EKLENDÄ°) ===== */
    .marketWrap{
      margin-top:16px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.16);
      border-radius: calc(var(--r) + 10px);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      overflow:hidden;
    }
    .marketHead{
      padding: 14px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
      gap:10px;
    }
    .marketHead h2{
      margin:0;
      color:#fff;
      font-size: 18px;
      font-weight: 980;
      letter-spacing:.2px;
    }
    .marketHead .mini{
      color: rgba(255,255,255,.88);
      font-weight:800;
      font-size: 13px;
    }
    .mBtn{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius: 14px;
      padding: 10px 12px;
      font-weight: 980;
      font-size: 13px;
      color:#fff;
      background: linear-gradient(135deg, #22c55e, #2563eb);
      box-shadow: 0 12px 24px rgba(0,0,0,.22);
      white-space:nowrap;
    }
    .marketBody{
      padding: 0 14px 16px;
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
    }
    @media(min-width:860px){
      .marketBody{grid-template-columns: 1fr 1fr;}
    }
    .mCard{
      background: rgba(255,255,255,.96);
      border-radius: calc(var(--r) + 6px);
      box-shadow: var(--shadow2);
      padding: 14px;
      border: 1px solid rgba(0,0,0,.06);
    }
    .kpis{
      display:flex; gap:8px; flex-wrap:wrap; margin-top:10px;
    }
    .kpi{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:999px;
      background:#f6f3ff;
      border:1px solid rgba(0,0,0,.05);
      color:#2a0a57;
      font-weight:900;
      font-size:12px;
      white-space:nowrap;
    }
    .noteBox{
      margin-top:10px;
      font-size:12.8px;
      line-height:1.6;
      color:#525265;
      font-weight:760;
      background:#fbf9ff;
      border:1px solid rgba(0,0,0,.05);
      border-radius:14px;
      padding:10px 12px;
    }
    .canvasBox{
      margin-top:10px;
      background:#fff;
      border-radius:14px;
      border:1px solid rgba(0,0,0,.06);
      overflow:hidden;
      padding:10px;
    }
    .mSmall{
      font-size:12px;
      color:#6b6b78;
      font-weight:800;
    }
    .inputRow{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
      margin-top:10px;
    }
    .mInput{
      flex:1 1 260px;
      border-radius:14px;
      padding:10px 12px;
      border:1px solid rgba(0,0,0,.10);
      font-weight:800;
      outline:none;
    }
    .fileInput{
      flex:1 1 260px;
    }
    .mTable{
      width:100%; border-collapse:collapse; margin-top:10px; overflow:hidden; border-radius:14px;
    }
    .mTable th,.mTable td{
      padding:10px; border-bottom:1px solid rgba(0,0,0,.08); font-size:13px;
    }
    .mTable th{background:#f6f3ff; text-align:left}
    .tag{
      display:inline-flex;
      align-items:center;
      padding:6px 10px;
      border-radius:999px;
      font-weight:950;
      font-size:12px;
      border:1px solid rgba(0,0,0,.06);
      background: linear-gradient(135deg, rgba(255,179,0,.25), rgba(124,77,255,.15));
      color:#2a0a57;
      white-space:nowrap;
    }
  </style>
</head>

<body>
  <div class="glow" aria-hidden="true"></div>

  <div class="wrap">

    <div class="hero">
      <div class="toprow">
        <div class="logoCircle">
          <img src="femud_logo.png" alt="FEMUD Logo">
        </div>

        <div style="max-width:1100px;margin:40px auto;text-align:center;">
          <img
            src="images/femud-urunler.jpg"
            alt="Femud ÃœrÃ¼nleri"
            style="width:100%;height:auto;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,0.25);"
          >
        </div>

        <div class="brandText">
          <h1>DoÄŸadan Gelen GÃ¼Ã§</h1>
          <div class="sub">Hediye OyunlarÄ± Ãœcretsizdir.</div>

          <div class="pillRow">
            <div class="pill">ğŸ Ãœcretsiz Hediye Oyun Merkezi</div>
            <div class="pill">â±ï¸ Hediye 24 Saat GeÃ§erli</div>
            <div class="pill">ğŸ“© KazanÄ±nca: ekran gÃ¶rÃ¼ntÃ¼sÃ¼ â†’ @Femud_tr DM</div>
          </div>
        </div>
      </div>

      <div class="headline">
        Femud Ã¼rÃ¼nlerini <b>indirimli</b> almak iÃ§in aÅŸaÄŸÄ±daki oyunlardan birini seÃ§:
        <b>Ã‡arkÄ±felek</b> veya <b>KazÄ± Kazan</b>. KazandÄ±ÄŸÄ±nda ekran gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼ alÄ±p
        <b>@Femud_tr</b> hesabÄ±na DM ile gÃ¶nder â€” hediyen <b>24 saat</b> iÃ§inde geÃ§erlidir.
      </div>

      <!-- âœ… PÄ°YASA PANELÄ° (SAYFA AÃ‡ILINCA Ã‡ALIÅIR) -->
      <div class="marketWrap" id="piyasaPanel">
        <div class="marketHead">
          <div>
            <h2>Femud Piyasa Paneli</h2>
            <div class="mini">Dolar â€¢ Euro â€¢ AltÄ±n â€¢ GÃ¼mÃ¼ÅŸ â€¢ Grafik + Sebep Ã–zeti â€¢ 5 dk yenileme (sayfa aÃ§Ä±kken)</div>
          </div>
          <button class="mBtn" id="btnRefreshAll">Bilgileri GÃ¼ncelle</button>
        </div>

        <div style="padding:0 14px 8px;">
          <div class="kpis" id="kpiRow">
            <span class="kpi">YÃ¼kleniyorâ€¦</span>
          </div>
          <div class="mSmall" id="lastUpdate" style="margin-top:8px;"></div>
        </div>

        <div class="marketBody">
          <div class="mCard">
            <b>USD/TRY (Dolar)</b>
            <div class="mSmall">Son 30 gÃ¼n</div>
            <div class="canvasBox"><canvas id="chUsd" height="140"></canvas></div>
            <div class="noteBox" id="noteUsd">â€”</div>
          </div>

          <div class="mCard">
            <b>EUR/TRY (Euro)</b>
            <div class="mSmall">Son 30 gÃ¼n</div>
            <div class="canvasBox"><canvas id="chEur" height="140"></canvas></div>
            <div class="noteBox" id="noteEur">â€”</div>
          </div>

          <div class="mCard">
            <b>AltÄ±n (XAU/TRY)</b>
            <div class="mSmall">Kaynak desteklerse otomatik gelir</div>
            <div class="canvasBox"><canvas id="chXau" height="140"></canvas></div>
            <div class="noteBox" id="noteXau">â€”</div>
          </div>

          <div class="mCard">
            <b>GÃ¼mÃ¼ÅŸ (XAG/TRY)</b>
            <div class="mSmall">Kaynak desteklerse otomatik gelir</div>
            <div class="canvasBox"><canvas id="chXag" height="140"></canvas></div>
            <div class="noteBox" id="noteXag">â€”</div>
          </div>

          <!-- HÄ°SSE ANALÄ°Z -->
          <div class="mCard" style="grid-column:1/-1;">
            <b>Hisse Analiz (BÄ°ST) â€” CSV ile gÃ¼Ã§lÃ¼ analiz</b>
            <div class="mSmall">Sembol yaz â†’ CSV yÃ¼kle (date,open,high,low,close,volume). Sonra analiz.</div>

            <div class="inputRow">
              <input class="mInput" id="symInput" placeholder="Ã–rn: ASELS, THYAO, SASA" />
              <input class="fileInput" id="csvFile" type="file" accept=".csv" />
              <button class="mBtn" id="btnAnalyze">Analiz Et</button>
            </div>

            <div class="noteBox" id="stockInfo">
              Not: TarayÄ±cÄ±dan lisanssÄ±z ÅŸekilde canlÄ± BÄ°ST verisi Ã§ekmek saÄŸlÄ±klÄ± deÄŸildir. Bu yÃ¼zden â€œkendi CSVâ€™n ileâ€ analiz en saÄŸlam yÃ¶ntemdir.
            </div>

            <div id="stockOut"></div>
          </div>
        </div>
      </div>

      <div class="grid">
        <!-- Ã‡ARKIFELEK -->
        <div class="card">
          <div class="cardHeader">
            <div>
              <div class="badge">ğŸ¡ HÄ±zlÄ± Ã–dÃ¼l</div>
              <div class="cardTitle">Femud Ã‡arkÄ±felek</div>
            </div>
          </div>

          <div class="cardBody">
            1 tÄ±kla oyuna gir, Ã§arkÄ± Ã§evir ve anÄ±nda indirim ÅŸansÄ± yakala.
            ğŸ€ğŸ€ğŸ
            <div class="how">
              <div class="step">1) Ã‡arkÄ±felekâ€™e gir</div>
              <div class="step">2) Ã‡arkÄ± Ã§evir</div>
              <div class="step">3) KazandÄ±ysan ekran gÃ¶rÃ¼ntÃ¼sÃ¼ al â†’ @Femud_tr DM</div>
            </div>
          </div>

          <div class="ctaRow">
            <a class="btn primary" id="btnCark" href="#">Ã‡arkÄ±felekâ€™e Gir</a>
            <div class="fine">DMâ€™de: â€œKupon kazandÄ±mâ€ yazÄ±p ekran gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼ ekleyin.</div>
          </div>
        </div>

        <!-- KAZI KAZAN -->
        <div class="card">
          <div class="cardHeader">
            <div>
              <div class="badge">ğŸ’¥ SÃ¼rpriz & Heyecan</div>
              <div class="cardTitle">Femud KazÄ± Kazan</div>
            </div>
          </div>

          <div class="cardBody">
            KutucuklarÄ± aÃ§, aynÄ± Ã¶dÃ¼lÃ¼ 3 kez yakalarsan kupon senin!
            ğŸ€ğŸ€ğŸ
            <div class="how">
              <div class="step">1) KazÄ± Kazanâ€™a gir</div>
              <div class="step">2) KutularÄ± aÃ§, aynÄ± Ã¶dÃ¼lÃ¼ yakala</div>
              <div class="step">3) KazandÄ±ysan ekran gÃ¶rÃ¼ntÃ¼sÃ¼ al â†’ @Femud_tr DM</div>
            </div>
          </div>

          <div class="ctaRow">
            <a class="btn secondary" id="btnKazi" href="#">KazÄ± Kazanâ€™a Gir</a>
            <div class="fine">Not: Hediyeler 24 saat geÃ§erlidir. Ãœcretsizdir.</div>
          </div>
        </div>
      </div>

      <!-- GÃ¼ven veren bÃ¶lÃ¼m -->
      <div class="trust">
        <h3>GÃ¼ven & ÅeffaflÄ±k</h3>
        <ul>
          <li>Oyunlar <b>Ã¼cretsizdir</b>; amaÃ§ mÃ¼ÅŸteriye indirim fÄ±rsatÄ± sunmaktÄ±r.</li>
          <li>Kazananlar hediyeyi almak iÃ§in <b>ekran gÃ¶rÃ¼ntÃ¼sÃ¼</b> ile <b>@Femud_tr</b> hesabÄ±na DM atar.</li>
          <li>Kupon/hediye <b>24 saat</b> iÃ§inde geÃ§erlidir.</li>
          <li>Ä°sim & Instagram bilgisi sadece kupon doÄŸrulama amacÄ±yla alÄ±nÄ±r.</li>
        </ul>
      </div>
    </div>

    <!-- ÃœrÃ¼n aÃ§Ä±klamalarÄ± (fotoÄŸrafsÄ±z) -->
    <div class="section">
      <div class="sectionHead">
        <h2>Femud ÃœrÃ¼n Ã–zellikleri</h2>
        <div class="mini"></div>
      </div>

      <div class="productGrid">
        <div class="pCard">
          <div class="pTitle">MentollÃ¼ Åampuan</div>
          <div class="pMeta">Termal su â€¢ Yerli Ã¼retim â€¢ Kepek</div>
          <ul class="pList">
            <li>Termal su ile Ã¼retilmiÅŸtir.</li>
            <li>Yerli Ãœretimdir.</li>
            <li>FerahlatÄ±cÄ± mentol etkisi saÄŸlar.</li>
            <li>130 TL 350ml.</li>
          </ul>
        </div>

        <div class="pCard">
          <div class="pTitle">Lavanta KÃ¶pÃ¼k Sabun</div>
          <div class="pMeta">Termal su â€¢ Yerli Ã¼retimdir â€¢ Kuruluk yapmaz</div>
          <ul class="pList">
            <li>Termal su ile Ã¼retilmiÅŸtir.</li>
            <li>Krem etkisi ile ellerde kuruluk yapmaz.</li>
            <li>Yerli Ã¼retimdir.</li>
            <li>75 TL 500ml.</li>
          </ul>
        </div>

        <div class="pCard">
          <div class="pTitle">Lavanta Oda ParfÃ¼mÃ¼</div>
          <div class="pMeta">Lavanta Ã¶zlÃ¼ â€¢ Termal su â€¢ Yerli Ã¼retim</div>
          <ul class="pList">
            <li>Lavanta Ã¶zlÃ¼dÃ¼r, termal su ile Ã¼retilmiÅŸtir.</li>
            <li>KÄ±yafetlerde kullanÄ±labilir.</li>
            <li>Yerli Ã¼retimdir.</li>
            <li>105 TL 400ml.</li>
          </ul>
        </div>

        <div class="pCard">
          <div class="pTitle">Limon KolonyasÄ± (80Â°)</div>
          <div class="pMeta">Termal su â€¢ 80 derece â€¢ Ã‡atlak yapmaz</div>
          <ul class="pList">
            <li>Termal su ile Ã¼retilmiÅŸtir.</li>
            <li>80 derece limon kolonyasÄ±dÄ±r.</li>
            <li>105 TL 400ml.</li>
          </ul>
        </div>

        <div class="pCard">
          <div class="pTitle">Kestane Ã–zlÃ¼ VÃ¼cut Kremi (50 ml)</div>
          <div class="pMeta">Kolay emilim â€¢ Kadifemsi etki â€¢ Nem artÄ±rÄ±r</div>
          <ul class="pList">
            <li>Kolay emilim saÄŸlar, kadifemsi etki bÄ±rakÄ±r.</li>
            <li>Nemi artÄ±rÄ±r, kuruluÄŸu azaltÄ±r.</li>
            <li>70 TL 50ml.</li>
          </ul>
        </div>

        <div class="pCard">
          <div class="pTitle">Kestane Ã–zlÃ¼ VÃ¼cut Kremi (250 ml)</div>
          <div class="pMeta">Aile boyu â€¢ YoÄŸun nemlendirme</div>
          <ul class="pList">
            <li>Kolay emilim saÄŸlar, kadifemsi etki bÄ±rakÄ±r.</li>
            <li>Nemi artÄ±rÄ±r, kuruluÄŸu azaltÄ±r.</li>
            <li>135 TL 250ml.</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- HAKKIMIZDA -->
    <div class="section" id="hakkimizda">
      <div class="sectionHead">
        <h2>HakkÄ±mÄ±zda</h2>
        <div class="mini">Termal su â€¢ Yerli Ã¼retim â€¢ NatÃ¼rel Ã§izgi</div>
      </div>

      <div style="padding:0 14px 16px;">
        <div class="aboutCards">
          <div class="aCard">
            <h3>ğŸ¯ Vizyon</h3>
            <p>
              Termal su temelli yaklaÅŸÄ±mÄ±, yerli Ã¼retim gÃ¼vencesiyle birleÅŸtirip
              gÃ¼nlÃ¼k bakÄ±mda <b>premium</b> kaliteyi herkes iÃ§in ulaÅŸÄ±labilir kÄ±lmak.
              Femud; natÃ¼rel Ã§izgide, gÃ¼ven veren ve modern bir bakÄ±m markasÄ±dÄ±r.
            </p>
            <div class="aMiniRow">
              <span class="aMini"><span class="dot"></span> Termal su</span>
              <span class="aMini"><span class="dot"></span> Kalite</span>
              <span class="aMini"><span class="dot"></span> EriÅŸilebilir</span>
            </div>
          </div>

          <div class="aCard">
            <h3>ğŸ§­ Misyon</h3>
            <p>
              ÃœrÃ¼nleri sade ve anlaÅŸÄ±lÄ±r bir dille sunmak; ÅŸeffaf, mÃ¼ÅŸteri odaklÄ±
              bir iletiÅŸim kurmak. Oyun merkezimiz de bu yÃ¼zden var:
              kullanÄ±cÄ±ya <b>eÄŸlenceli</b> ÅŸekilde indirim fÄ±rsatÄ± oluÅŸturmak.
            </p>
            <div class="aMiniRow">
              <span class="aMini"><span class="dot"></span> ÅeffaflÄ±k</span>
              <span class="aMini"><span class="dot"></span> MÃ¼ÅŸteri odaklÄ±</span>
              <span class="aMini"><span class="dot"></span> EÄŸlenceli</span>
            </div>
          </div>

          <div class="aCard">
            <h3>ğŸ›¡ï¸ Kalite SÃ¶zÃ¼</h3>
            <p>
              Femudâ€™da hedef; gÃ¼ven, sÃ¼reklilik ve memnuniyettir.
              Kupon/Ã¶dÃ¼l sÃ¼reÃ§leri nettir: kazanÄ±nca <b>ekran gÃ¶rÃ¼ntÃ¼sÃ¼</b> ile
              <b>@Femud_tr</b> hesabÄ±ndan doÄŸrulanÄ±r, <b>24 saat</b> iÃ§inde kullanÄ±lÄ±r.
            </p>
            <div class="aMiniRow">
              <span class="aMini"><span class="dot"></span> GÃ¼ven</span>
              <span class="aMini"><span class="dot"></span> Net sÃ¼reÃ§</span>
              <span class="aMini"><span class="dot"></span> HÄ±zlÄ± doÄŸrulama</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      Â© <b>FEMUD</b> â€¢ Kupon iÃ§in ekran gÃ¶rÃ¼ntÃ¼sÃ¼ ile <b>@Femud_tr</b> DM
    </footer>

  </div>

  <script>
    // Oyun linkleri
    const CARK_LINK = "carkifelek.html";
    const KAZI_LINK = "kazikazan4x4.html";
    document.getElementById("btnCark").setAttribute("href", CARK_LINK);
    document.getElementById("btnKazi").setAttribute("href", KAZI_LINK);

    // Mini â€œpremium heyecanâ€ parÄ±ltÄ± efekti
    function sparkAt(x,y){
      for(let i=0;i<10;i++){
        const s=document.createElement("div");
        s.className="spark";
        s.style.left=x+"px";
        s.style.top=y+"px";
        s.style.setProperty("--dx", (Math.random()*120-60)+"px");
        s.style.setProperty("--dy", (Math.random()*120-60)+"px");
        s.style.background = Math.random()>.5 ? "rgba(255,179,0,.95)" : "rgba(255,255,255,.95)";
        document.body.appendChild(s);
        setTimeout(()=>s.remove(), 750);
      }
    }
    ["btnCark","btnKazi"].forEach(id=>{
      const el=document.getElementById(id);
      el.addEventListener("mouseenter",(e)=>{
        const r=e.target.getBoundingClientRect();
        sparkAt(r.left + r.width/2, r.top + r.height/2);
      });
    });

    /* ===========================
       PÄ°YASA PANELÄ° â€” 5 dk yenileme
       Kaynak: exchangerate.host (latest + timeseries)
       Not: XAU/XAG her zaman desteklenmeyebilir.
    =========================== */

    let chUsd=null, chEur=null, chXau=null, chXag=null;

    function fmt(n, d=4){
      if(n==null || !Number.isFinite(n)) return "-";
      return n.toFixed(d);
    }
    function fmt2(n){
      if(n==null || !Number.isFinite(n)) return "-";
      return n.toFixed(2);
    }
    function pct(a,b){
      if(a==null||b==null||a===0) return null;
      return (b/a-1)*100;
    }

    function buildNote(series){
      const s = series.filter(v=>v!=null);
      if(s.length<5) return "Veri yok veya kaynak cevap vermedi.";
      const first=s[0], last=s[s.length-1];
      const p = pct(first,last);
      const direction = p>0 ? "yÃ¼kseliÅŸ" : (p<0 ? "dÃ¼ÅŸÃ¼ÅŸ" : "yatay");

      // Basit â€œsebepâ€ kartÄ±: makro etkenler (genel)
      const drivers = [
        "Faiz beklentileri / risk iÅŸtahÄ±",
        "Jeopolitik haber akÄ±ÅŸÄ±",
        "ABD Dolar Endeksi ve kÃ¼resel akÄ±ÅŸ",
        "Enflasyon verileri ve merkez bankasÄ± mesajlarÄ±"
      ];

      return `<b>Ã–zet:</b> Son 30 gÃ¼nde <b>${direction}</b> (${p!=null ? p.toFixed(2) : "â€”"}%).<br/>
              <b>Muhtemel sebepler:</b> ${drivers.join(" â€¢ ")}<br/>
              <b>Not:</b> Bu bÃ¶lÃ¼m yatÄ±rÄ±m tavsiyesi deÄŸildir.`;
    }

    function mkLine(canvasId, labels, data){
      const ctx=document.getElementById(canvasId);
      return new Chart(ctx,{
        type:"line",
        data:{labels, datasets:[{data, tension:0.25, pointRadius:0}]},
        options:{
          plugins:{legend:{display:false}},
          scales:{x:{ticks:{maxTicksLimit:6}}, y:{ticks:{maxTicksLimit:6}}},
          responsive:true
        }
      });
    }

    async function fetchTimeseries(symbol){
      // Son 35 gÃ¼n Ã§ekip 30 gÃ¼n gÃ¶steriyoruz (tatil/boÅŸ gÃ¼n toleransÄ±)
      const end = new Date();
      const start = new Date(end.getTime() - 35*24*3600*1000);
      const fmtD = d => d.toISOString().slice(0,10);

      // TRY baz alÄ±p USD/EUR/XAU/XAG istiyoruz.
      // EÄŸer XAU/XAG desteklenmezse sonuÃ§ null gelecektir.
      const url = `https://api.exchangerate.host/timeseries?start_date=${fmtD(start)}&end_date=${fmtD(end)}&base=TRY&symbols=${encodeURIComponent(symbol)}`;
      const r = await fetch(url);
      if(!r.ok) throw new Error("Kur servisi cevap vermedi.");
      const js = await r.json();
      if(!js || !js.rates) throw new Error("Beklenmeyen cevap.");
      const dates = Object.keys(js.rates).sort();
      const vals = dates.map(d=>{
        const v = js.rates[d]?.[symbol];
        // base=TRY & symbol=USD => 1 TRY kaÃ§ USD eder. Biz USD/TRY istiyoruz => tersini alacaÄŸÄ±z.
        const n = Number(v);
        if(!Number.isFinite(n) || n===0) return null;
        return 1/n; // USD/TRY gibi ters Ã§evir
      });
      // Son 30 gÃ¼n
      const sliceDates = dates.slice(-30);
      const sliceVals = vals.slice(-30);
      return {dates:sliceDates, values:sliceVals};
    }

    function setKpis(obj){
      const el=document.getElementById("kpiRow");
      el.innerHTML = "";
      const items = [
        ["USD/TRY", obj.usd],
        ["EUR/TRY", obj.eur],
        ["AltÄ±n", obj.xau],
        ["GÃ¼mÃ¼ÅŸ", obj.xag],
      ];
      for(const [k,v] of items){
        el.innerHTML += `<span class="kpi"><b>${k}</b>: ${v}</span>`;
      }
    }

    async function refreshMarkets(){
      // USD, EUR, XAU, XAG
      const [usd, eur, xau, xag] = await Promise.allSettled([
        fetchTimeseries("USD"),
        fetchTimeseries("EUR"),
        fetchTimeseries("XAU"),
        fetchTimeseries("XAG"),
      ]);

      function ok(p){ return p.status==="fulfilled" ? p.value : null; }

      const usdTS=ok(usd), eurTS=ok(eur), xauTS=ok(xau), xagTS=ok(xag);

      // destroy old charts
      [chUsd,chEur,chXau,chXag].forEach(c=>{ if(c) c.destroy(); });

      if(usdTS){
        chUsd = mkLine("chUsd", usdTS.dates, usdTS.values);
        document.getElementById("noteUsd").innerHTML = buildNote(usdTS.values);
      } else {
        document.getElementById("noteUsd").innerHTML = "Kur servisi USD iÃ§in cevap vermedi.";
      }

      if(eurTS){
        chEur = mkLine("chEur", eurTS.dates, eurTS.values);
        document.getElementById("noteEur").innerHTML = buildNote(eurTS.values);
      } else {
        document.getElementById("noteEur").innerHTML = "Kur servisi EUR iÃ§in cevap vermedi.";
      }

      if(xauTS){
        chXau = mkLine("chXau", xauTS.dates, xauTS.values);
        document.getElementById("noteXau").innerHTML = buildNote(xauTS.values);
      } else {
        document.getElementById("noteXau").innerHTML =
          "AltÄ±n verisi (XAU) kaynakta desteklenmiyor olabilir. Ä°stersen 1 API anahtarÄ± ile %100 canlÄ± yaparÄ±z.";
      }

      if(xagTS){
        chXag = mkLine("chXag", xagTS.dates, xagTS.values);
        document.getElementById("noteXag").innerHTML = buildNote(xagTS.values);
      } else {
        document.getElementById("noteXag").innerHTML =
          "GÃ¼mÃ¼ÅŸ verisi (XAG) kaynakta desteklenmiyor olabilir. Ä°stersen 1 API anahtarÄ± ile %100 canlÄ± yaparÄ±z.";
      }

      // Latest values
      const lastUsd = usdTS?.values?.slice(-1)[0] ?? null;
      const lastEur = eurTS?.values?.slice(-1)[0] ?? null;
      const lastXau = xauTS?.values?.slice(-1)[0] ?? null;
      const lastXag = xagTS?.values?.slice(-1)[0] ?? null;

      setKpis({
        usd: lastUsd ? fmt(lastUsd,4) : "-",
        eur: lastEur ? fmt(lastEur,4) : "-",
        xau: lastXau ? (fmt2(lastXau)+" TRY") : "-",
        xag: lastXag ? (fmt2(lastXag)+" TRY") : "-",
      });

      document.getElementById("lastUpdate").textContent =
        "Son gÃ¼ncelleme: " + new Date().toLocaleString("tr-TR") + " (Sayfa aÃ§Ä±kken 5 dkâ€™da bir yeniler)";
    }

    document.getElementById("btnRefreshAll").addEventListener("click", async ()=>{
      const btn = document.getElementById("btnRefreshAll");
      const old = btn.textContent;
      btn.textContent = "GÃ¼ncelleniyorâ€¦";
      btn.disabled = true;
      try{ await refreshMarkets(); }
      catch(e){ alert("GÃ¼ncelleme hatasÄ±: " + (e?.message||e)); }
      finally{ btn.textContent = old; btn.disabled = false; }
    });

    // 5 dk otomatik yenileme (sayfa gÃ¶rÃ¼nÃ¼rken)
    setInterval(()=>{ if(!document.hidden) refreshMarkets().catch(()=>{}); }, 5*60*1000);
    document.addEventListener("visibilitychange", ()=>{ if(!document.hidden) refreshMarkets().catch(()=>{}); });

    // Ä°lk aÃ§Ä±lÄ±ÅŸta otomatik
    refreshMarkets().catch(()=>{});

    /* ===========================
       HÄ°SSE ANALÄ°Z â€” CSV ile
    =========================== */
    function parseCSV(text){
      const lines = text.trim().split(/\r?\n/);
      const header = lines[0].split(",").map(s=>s.trim());
      const rows=[];
      for(let i=1;i<lines.length;i++){
        const parts = lines[i].split(",").map(s=>s.trim());
        const o={};
        for(let j=0;j<header.length;j++) o[header[j]]=parts[j];
        rows.push(o);
      }
      return rows;
    }
    function toNum(x){ const n=Number(x); return Number.isFinite(n)?n:null; }
    function ema(values, period){
      const k=2/(period+1);
      let prev=values[0];
      const out=[prev];
      for(let i=1;i<values.length;i++){
        const v = values[i]*k + prev*(1-k);
        out.push(v); prev=v;
      }
      return out;
    }
    function rsi(values, period=14){
      const out=new Array(values.length).fill(50);
      let gains=0, losses=0;
      for(let i=1;i<=period && i<values.length;i++){
        const d=values[i]-values[i-1]; if(d>=0) gains+=d; else losses+=-d;
      }
      let avgGain=gains/period, avgLoss=losses/period;
      out[period]=avgLoss===0?70:100-(100/(1+(avgGain/avgLoss)));
      for(let i=period+1;i<values.length;i++){
        const d=values[i]-values[i-1];
        const gain=d>0?d:0, loss=d<0?-d:0;
        avgGain=(avgGain*(period-1)+gain)/period;
        avgLoss=(avgLoss*(period-1)+loss)/period;
        const rs=avgLoss===0?999:(avgGain/avgLoss);
        out[i]=100-(100/(1+rs));
      }
      return out;
    }

    function renderStock(symbol, bars){
      const out = document.getElementById("stockOut");
      out.innerHTML = "";
      if(!bars || bars.length<120){
        out.innerHTML = `<div class="noteBox">CSV verisi yetersiz. En az 6 ay (120+ satÄ±r) Ã¶nerilir.</div>`;
        return;
      }
      bars.sort((a,b)=>a.date.localeCompare(b.date));
      const close = bars.map(b=>b.close);
      const EMA20 = ema(close,20);
      const EMA50 = ema(close,50);
      const RSI14 = rsi(close,14);

      const last = close[close.length-1];
      const trendUp = last>EMA20[EMA20.length-1] && last>EMA50[EMA50.length-1];
      const r = RSI14[RSI14.length-1];

      const plan = trendUp
        ? "Trend pozitif. Kademeli alÄ±m + net stop mantÄ±ÄŸÄ± uygundur."
        : "Trend zayÄ±f. DÃ¶nÃ¼ÅŸ teyidi olmadan agresif iÅŸlem risklidir.";

      const reasons = [
        `EMA20/EMA50 durumu: ${trendUp ? "ÃœstÃ¼nde (pozitif)" : "AltÄ±nda/karÄ±ÅŸÄ±k (zayÄ±f)"}`,
        `RSI(14): ${r.toFixed(1)} (55-70 arasÄ± gÃ¼Ã§lÃ¼ rejim sayÄ±lÄ±r)`,
        "DÃ¶viz, faiz ve sektÃ¶r haberleri hisseyi etkileyebilir (genel etkenler)."
      ];

      const stopPct = 3.6;
      const tgt1 = 4.8;
      const tgt2 = 8.2;

      out.innerHTML = `
        <table class="mTable">
          <thead><tr><th>Sembol</th><th>Son</th><th>Trend</th><th>RSI</th><th>Plan</th></tr></thead>
          <tbody>
            <tr>
              <td><b>${symbol}</b></td>
              <td>${last.toFixed(2)}</td>
              <td><span class="tag">${trendUp ? "POZÄ°TÄ°F" : "ZAYIF"}</span></td>
              <td>${r.toFixed(1)}</td>
              <td>${plan}</td>
            </tr>
          </tbody>
        </table>
        <div class="noteBox">
          <b>Ä°ÅŸlem Disiplini (Ã¶rnek):</b><br/>
          Stop: <b>%${stopPct}</b> â€¢ Hedef: <b>%${tgt1}</b> / <b>%${tgt2}</b><br/>
          <b>Neden?</b> ${reasons.join(" â€¢ ")}<br/>
          <b>Haber taramasÄ±:</b> TarayÄ±cÄ± CORS kÄ±sÄ±tlarÄ± nedeniyle haberleri direkt Ã§ekmek her zaman mÃ¼mkÃ¼n olmayabilir.
          Bu yÃ¼zden hÄ±zlÄ± link: <a href="https://www.google.com/search?q=${encodeURIComponent(symbol+" hisse haberleri")}" target="_blank" rel="noopener">Googleâ€™da ara</a>
        </div>
      `;
    }

    document.getElementById("btnAnalyze").addEventListener("click", async ()=>{
      const sym = (document.getElementById("symInput").value || "").trim().toUpperCase();
      const file = document.getElementById("csvFile").files?.[0];

      if(!sym){
        alert("Ã–nce sembol yaz (Ã¶r: ASELS).");
        return;
      }
      if(!file){
        alert("CSV yÃ¼klemen lazÄ±m. Kolonlar: date,open,high,low,close,volume");
        return;
      }

      const text = await file.text();
      const rows = parseCSV(text);
      const bars = rows.map(r=>({
        date: r.date,
        open: toNum(r.open),
        high: toNum(r.high),
        low: toNum(r.low),
        close: toNum(r.close),
        volume: toNum(r.volume),
      })).filter(b=>b.date && b.close!=null);

      renderStock(sym, bars);
    });
  </script>
</body>
</html>